#!/usr/bin/python

import sys, time

def sieve(n):
    # Based on code from Stack Overflow
    nroot = int(n**0.5)
    sieve = [True] * (n+1)
    sieve[0] = False
    sieve[1] = False

    for i in range(2, nroot+1):
        if sieve[i]:
            m = n/i - i
            sieve[i*i: n+1:i] = [False] * (int(m)+1)

    return [i for i in range(n+1) if sieve[i]]

primes = sieve(2**26)
print("// Generated by %s on %s" % (sys.argv[0], time.asctime()))
print("int nprimes = %r;" % len(primes))
print("int primes[] = {")
print(str(primes)[1:-1])
print("};")
